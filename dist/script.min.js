var pokemonRepository=function(){var t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=150";function e(o){t.push(o)}function n(t){var o,e;(o=t,e=o.detailsUrl,$.ajax(e,{dataType:"json"}).then(function(t){o.imageUrl=t.sprites.front_default,o.height=t.height,o.types="",t.types.forEach(function(t){o.types+=t.type.name+" "})}).catch(function(t){console.error(t)})).then(function(){var o,e,n,i="Height: \n"+t.height+"\nTypes: "+t.types+"\n";o=t.name,e=i,n=t.imageUrl,$("#pokemonModal .modal-title").text(o),$("#pokemonModal .modal-text").text(e),$("#pokemonModal .modal-body img").attr("src",n),a()})}function a(){var t=$(".loading-message-class");setTimeout(function(){t.removeClass("shown")},500)}return{getALL:function(){return t},loadList:function(){return $.ajax(o,{dataType:"json"}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.log("Caught an error:"+t.statusText)}).then(function(){$("#searchbar").on("keyup",function(){var t=$(this).val().toLowerCase();$(".list-group-item").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})}).catch(t=>{console.log(`Caught an error: ${t.statusText}`)})},add:e,search:function(o){var e=t.filter(t=>t.name===o);return e.length>0?(console.log("Here is your Pokemon:<br>"),e):"There is no Pokemon with that name in the repo"},addListItem:function(t){var o=$('<button class="list-group-item list-group-item-action list-group-item-dark" type="button" data-toggle="modal" sr-only="pokemon name" data-target="#pokemonModal">'+t.name+"</button>");$(".list-group").append(o),$(o).on("click",function(){n(t)})},showDetails:n,showLoadingMessage:function(){$(".loading-message-class").addClass("shown")},hideLoadingMessage:a}}();pokemonRepository.showLoadingMessage(),pokemonRepository.loadList().then(function(){pokemonRepository.getALL().forEach(function(t){pokemonRepository.addListItem(t)})});